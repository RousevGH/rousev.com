<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>I bought the whole domain</title>

<style>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap');

:root{
  --accent:#596bff;
  --accent-soft:#8b95ff;
  --bg-light-top:#f7f8ff;
  --bg-light-bottom:#e4e6f0;
  --bg-dark-top:#050712;
  --bg-dark-bottom:#05060b;
  --card-light-top:rgba(255,255,255,0.95);
  --card-light-bottom:rgba(230,233,243,0.96);
  --card-dark-top:#1b1f2a;
  --card-dark-bottom:#090b12;
  --text-light:#171821;
  --text-dark:#f4f5ff;
}

*{margin:0;padding:0;box-sizing:border-box;}

body{
  font-family:"Inter",system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
  min-height:100vh;
  background:
    radial-gradient(circle at 0 0,rgba(255,255,255,.9) 0,transparent 55%),
    radial-gradient(circle at 100% 0,rgba(255,220,245,.85) 0,transparent 55%),
    linear-gradient(to bottom,var(--bg-light-top),var(--bg-light-bottom));
  color:var(--text-light);
  padding-top:68px;
  -webkit-font-smoothing:antialiased;
}

body.dark{
  background:
    radial-gradient(circle at 0 0,rgba(89,107,255,.35) 0,transparent 60%),
    radial-gradient(circle at 100% 0,rgba(181,22,85,.4) 0,transparent 60%),
    linear-gradient(to bottom,var(--bg-dark-top),var(--bg-dark-bottom));
  color:var(--text-dark);
}

/* top bar */
header{
  position:fixed;
  top:0;left:0;right:0;
  height:60px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:0 18px;
  backdrop-filter:blur(18px);
  -webkit-backdrop-filter:blur(18px);
  z-index:30;
  background:linear-gradient(to bottom,rgba(255,255,255,.92),rgba(245,246,255,.9));
  border-bottom:1px solid rgba(15,16,40,.08);
}
body.dark header{
  background:linear-gradient(to bottom,rgba(5,7,16,.96),rgba(3,4,12,.96));
  border-bottom-color:rgba(200,210,255,.18);
}
.head-title{
  font-size:16px;
  font-weight:600;
  letter-spacing:-0.03em;
}
.icon-row{
  display:flex;
  align-items:center;
  gap:10px;
}
.icon-btn{
  width:28px;
  height:28px;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  color:inherit;
  transition:.18s ease;
}
.icon-btn svg{
  width:20px;
  height:20px;
  fill:currentColor;
}
.icon-btn:hover{
  color:var(--accent);
  transform:scale(1.12) translateY(-1px);
}

/* layout */
main{
  max-width:960px;
  margin:0 auto;
  padding:26px 16px 40px;
}

/* cards */
.post{
  width:100%;
  max-width:820px;
  margin:0 auto 26px;
  padding:24px 22px 20px;
  border-radius:18px;
  background:
    linear-gradient(145deg,rgba(255,255,255,0.98),rgba(236,238,250,0.98));
  box-shadow:0 14px 30px rgba(15,17,40,.18);
  border:1px solid rgba(15,16,40,.05);
  cursor:pointer;
  position:relative;
  overflow:hidden;
  transform:translateX(-42px);
  opacity:0;
  transition:
    opacity .45s ease,
    transform .45s cubic-bezier(.16,.72,.2,1),
    box-shadow .25s ease,
    border-color .25s ease,
    background .3s ease;
}
body.dark .post{
  background:linear-gradient(145deg,var(--card-dark-top),var(--card-dark-bottom));
  border-color:rgba(210,220,255,.12);
  box-shadow:0 22px 55px rgba(0,0,0,.8);
}
.post::before{
  content:"";
  position:absolute;
  inset:-40%;
  background:radial-gradient(circle at 0 0,rgba(89,107,255,.12),transparent 60%);
  opacity:0;
  transition:opacity .35s ease;
  pointer-events:none;
}
.post--visible{
  opacity:1;
  transform:translateX(0);
}
.post:hover{
  box-shadow:0 22px 50px rgba(10,10,40,.32);
  border-color:rgba(89,107,255,.8);
  transform:translateX(0) translateY(-6px) scale(1.015);
}
.post:hover::before{
  opacity:1;
}
.post.pinned{
  border-width:2px;
  border-color:rgba(89,107,255,.95);
  box-shadow:0 0 20px rgba(120,135,255,.7),0 26px 60px rgba(0,0,0,.9);
}

/* content inside post */
.post-title{
  font-size:20px;
  font-weight:600;
  letter-spacing:-0.04em;
  margin-bottom:8px;
}
.post-body{
  font-size:14px;
  line-height:1.6;
  opacity:.88;
  white-space:pre-wrap;
}
.post-tags{
  display:flex;
  flex-wrap:wrap;
  gap:6px;
  margin-top:10px;
}
.post-tag{
  font-size:11px;
  padding:4px 9px;
  border-radius:999px;
  background:linear-gradient(135deg,var(--accent),var(--accent-soft));
  color:#fff;
  border:1px solid rgba(255,255,255,.8);
  box-shadow:0 6px 12px rgba(89,107,255,.7);
}
.post-meta{
  margin-top:10px;
  font-size:11px;
  opacity:.7;
}

/* no posts */
.empty{
  text-align:center;
  margin-top:60px;
  opacity:.6;
}

/* modal popup for contact / simple messages */
#modal{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  background:rgba(0,0,0,.5);
  backdrop-filter:blur(18px);
  -webkit-backdrop-filter:blur(18px);
  opacity:0;
  pointer-events:none;
  transition:opacity .25s ease;
  z-index:60;
}
#modal.show{
  opacity:1;
  pointer-events:auto;
}
.modal-box{
  max-width:420px;
  width:calc(100% - 40px);
  background:linear-gradient(135deg,rgba(255,255,255,.98),rgba(241,242,255,.98));
  padding:22px 20px 18px;
  border-radius:16px;
  box-shadow:0 20px 55px rgba(0,0,0,.65);
  border:1px solid rgba(15,16,40,.08);
}
body.dark .modal-box{
  background:linear-gradient(135deg,rgba(19,21,40,.99),rgba(8,10,26,.99));
  border-color:rgba(205,215,255,.25);
}
.modal-top{
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  margin-bottom:10px;
}
.modal-title{
  font-size:16px;
  font-weight:600;
}
.modal-close{
  cursor:pointer;
  font-size:22px;
  opacity:.7;
}
.modal-close:hover{opacity:1;}
.modal-body{
  font-size:14px;
  line-height:1.5;
  opacity:.86;
}

/* responsive */
@media(max-width:768px){
  header{padding:0 12px;height:58px;}
  .head-title{font-size:14px;}
  main{padding:20px 10px 32px;}
  .post{padding:18px 14px;border-radius:16px;}
  .post-title{font-size:18px;}
}
</style>
</head>
<body>

<header>
  <div class="head-title">I bought the whole domain, I'm going to use the whole domain</div>
  <div class="icon-row" id="iconRow">
    <button class="icon-btn" data-action="youtube" aria-label="YouTube">
      <svg viewBox="0 0 24 24"><path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/></svg>
    </button>
    <button class="icon-btn" data-action="discord" aria-label="Discord">
      <svg viewBox="0 0 24 24"><path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515a.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0a12.64 12.64 0 0 0-.617-1.25a.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057a19.9 19.9 0 0 0 5.993 3.03a.078.078 0 0 0 .084-.028a14.09 14.09 0 0 0 1.226-1.994a.076.076 0 0 0-.041-.106a13.107 13.107 0 0 1-1.872-.892a.077.077 0 0 1-.008-.128a10.2 10.2 0 0 0 .372-.292a.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127a12.299 12.299 0 0 1-1.873.892a.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028a19.839 19.839 0 0 0 6.002-3.03a.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.956-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.955-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.946 2.418-2.157 2.418z"/></svg>
    </button>
    <button class="icon-btn" data-action="email" aria-label="Email">
      <svg viewBox="0 0 24 24"><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/></svg>
    </button>
    <button class="icon-btn" data-action="theme" aria-label="Theme">
      <svg viewBox="0 0 24 24"><path d="M21.64 13a1 1 0 0 0-1.05-.14A8 8 0 1 1 11.09 3.4a1 1 0 0 0-.14-1A1 1 0 0 0 10 2a10 10 0 1 0 12 12 1 1 0 0 0-.36-1z"/></svg>
    </button>
  </div>
</header>

<main id="postList"></main>

<div id="modal">
  <div class="modal-box">
    <div class="modal-top">
      <div class="modal-title" id="modalTitle"></div>
      <div class="modal-close" id="modalClose">Ã—</div>
    </div>
    <div class="modal-body" id="modalBody"></div>
  </div>
</div>

<script>
const postList=document.getElementById("postList");
const modal=document.getElementById("modal");
const modalTitle=document.getElementById("modalTitle");
const modalBody=document.getElementById("modalBody");
const modalClose=document.getElementById("modalClose");
let allPosts=[];

function setThemeFromStorage(){
  const saved=localStorage.getItem("rousev-theme");
  if(saved==="dark") document.body.classList.add("dark");
}
setThemeFromStorage();

async function fetchText(url){
  try{
    const r=await fetch(url,{cache:"no-store"});
    if(!r.ok) return null;
    return await r.text();
  }catch(e){
    return null;
  }
}

async function loadPosts(){
  allPosts=[];

  const pinnedTxt=await fetchText("./posts/IMPORTANT.txt");
  if(pinnedTxt) allPosts.push({content:pinnedTxt,pinned:true});

  let i=1;
  while(true){
    const t=await fetchText("./posts/Thing_"+i+".txt");
    if(!t) break;
    allPosts.push({content:t,pinned:false});
    i++;
  }

  if(!allPosts.length){
    postList.innerHTML='<div class="empty">no posts</div>';
    return;
  }
  renderPosts();
  setupReveal();
}

function parsePost(raw){
  const text=raw.replace(/\r\n/g,"\n").trim();
  const lines=text.split("\n");
  let titleLine=lines[0]||"";
  let bodyLines=lines.slice(1);

  // date from last line like [dd.mm.yyyy] or /[dd.mm.yyyy]/
  let date=null;
  if(bodyLines.length){
    const last=bodyLines[bodyLines.length-1].trim();
    const m=last.match(/\[([0-9]{1,2})\.([0-9]{1,2})\.([0-9]{4})\]/);
    if(m){
      const d=new Date(+m[3],+m[2]-1,+m[1]);
      if(!isNaN(d.getTime())){
        date=d;
        bodyLines=bodyLines.slice(0,-1);
      }
    }
  }

  // tags from title: /#tag/
  const tags=[];
  titleLine=titleLine.replace(/\/#([^/]+)\//g,(match,p1)=>{
    tags.push(p1.trim());
    return "";
  }).trim();

  const body=bodyLines.join("\n").trim();

  return{title:titleLine||"(untitled)",body,date,tags};
}

function renderPosts(){
  postList.innerHTML="";

  const pinned=allPosts.filter(p=>p.pinned);
  const rest=allPosts.filter(p=>!p.pinned);

  rest.sort((a,b)=>{
    const pa=parsePost(a.content);
    const pb=parsePost(b.content);
    if(pa.date && pb.date) return pb.date-pa.date;
    if(pa.date && !pb.date) return -1;
    if(!pa.date && pb.date) return 1;
    return 0;
  });

  const ordered=pinned.concat(rest);

  ordered.forEach((p,idx)=>{
    const d=parsePost(p.content);
    const card=document.createElement("article");
    card.className="post reveal"+(p.pinned?" pinned":"");

    const bodyHtml=d.body
      .replace(/&/g,"&amp;")
      .replace(/</g,"&lt;")
      .replace(/>/g,"&gt;")
      .replace(/(https?:\/\/[^\s]+)/g,'<a href="$1" target="_blank" rel="noopener">$1</a>')
      .replace(/\n/g,"<br>");

    card.innerHTML=
      '<div class="post-title">'+d.title+'</div>'+
      '<div class="post-body">'+bodyHtml+'</div>'+
      (d.tags.length?'<div class="post-tags">'+d.tags.map(t=>'<span class="post-tag">'+t+'</span>').join("")+'</div>':"")+
      (d.date?'<div class="post-meta">'+d.date.toLocaleDateString()+'</div>':"");

    card.addEventListener("click",()=>openModal(d.title,bodyHtml,d.date,d.tags));
    postList.appendChild(card);
  });
}

function setupReveal(){
  const cards=document.querySelectorAll(".post.reveal");
  const obs=new IntersectionObserver(entries=>{
    entries.forEach(entry=>{
      if(entry.isIntersecting){
        entry.target.classList.add("post--visible");
        obs.unobserve(entry.target);
      }
    });
  },{threshold:0.2});
  cards.forEach(c=>obs.observe(c));
}

/* modal */
function openModal(title,bodyHtml,date,tags){
  modalTitle.textContent=title;
  const pieces=[];
  if(tags && tags.length){
    pieces.push('<div style="margin-bottom:8px;">'+tags.map(t=>'<span style="display:inline-block;background:linear-gradient(135deg,var(--accent),var(--accent-soft));color:#fff;border-radius:999px;padding:3px 8px;font-size:11px;margin-right:4px;">'+t+'</span>').join("")+'</div>');
  }
  pieces.push('<div>'+bodyHtml+'</div>');
  if(date) pieces.push('<div style="margin-top:10px;font-size:11px;opacity:.7;">'+date.toLocaleDateString()+'</div>');
  modalBody.innerHTML=pieces.join("");
  modal.classList.add("show");
}
modalClose.addEventListener("click",()=>modal.classList.remove("show"));
modal.addEventListener("click",e=>{if(e.target===modal)modal.classList.remove("show");});
document.addEventListener("keydown",e=>{if(e.key==="Escape")modal.classList.remove("show");});

/* icons / actions */
document.getElementById("iconRow").addEventListener("click",e=>{
  const btn=e.target.closest(".icon-btn");
  if(!btn) return;
  const action=btn.dataset.action;
  if(action==="youtube"){
    window.open("https://youtube.com/@RousevGuesses","_blank");
  }else if(action==="discord"){
    openModal("Discord","@brousev on discord");
  }else if(action==="email"){
    openModal("Email","contact@rousev.com");
  }else if(action==="theme"){
    document.body.classList.toggle("dark");
    localStorage.setItem("rousev-theme",document.body.classList.contains("dark")?"dark":"light");
  }
});

loadPosts();
</script>
</body>
</html>
