<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>I bought the whole domain</title>

<style>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap');

:root{
    --light-bg: #f4f4f4;
    --dark-bg: #0f1115;
    --light-card1: #ffffff;
    --light-card2: #e8e8e8;
    --dark-card1: #1a1d24;
    --dark-card2: #111317;
    --accent: #5568ff; /* Blurple-ish */
    --danger: #b91d47; /* Red velvet? Sure. */
}

*{margin:0;padding:0;box-sizing:border-box;transition:background .2s,color .2s;}
body{
    font-family:'Inter',sans-serif;
    background: var(--light-bg);
    min-height:100vh;
    overflow-x:hidden;
}
body.dark{
    background: var(--dark-bg);
    color:#f9f9f9;
}
header{
    width:100%;
    position:fixed;
    top:0;
    left:0;
    padding:12px 26px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    background:rgba(255,255,255,.75);
    backdrop-filter:blur(10px);
    z-index:999;
    border-bottom:1px solid rgba(0,0,0,.05);
}
body.dark header{
    background:rgba(15,17,21,.7);
    border-color:rgba(255,255,255,.08);
}
h1{
    font-size:18px;
    font-weight:600;
}
.iconRow{
    display:flex;
    gap:14px;
}
.iconBtn{
    width:24px;
    height:24px;
    cursor:pointer;
    opacity:.85;
    display:flex;
    align-items:center;
    justify-content:center;
    fill:#222;
}
body.dark .iconBtn{
    fill:#eee;
}
.iconBtn:hover{
    fill:var(--accent);
    opacity:1;
    transform:scale(1.15);
}

main{
    width:100%;
    margin-top:80px;
    display:flex;
    flex-direction:column;
    align-items:center;
}

.post{
    width:90%;
    max-width:820px;
    padding:28px;
    margin-bottom:32px;
    border-radius:14px;
    background:linear-gradient(to bottom,var(--light-card1),var(--light-card2));
    box-shadow:0 4px 14px rgba(0,0,0,.08);
    cursor:pointer;
    opacity:0;
    transform:translateX(-50px);
}
body.dark .post{
    background:linear-gradient(to bottom,var(--dark-card1),var(--dark-card2));
}
.post.show{
    opacity:1;
    transform:translateX(0);
}
.post:hover{
    transform:translateX(0) translateY(-6px) scale(1.02);
    box-shadow:0 12px 24px rgba(0,0,0,.24);
}

.post.pinned{
    border:2px solid var(--accent);
    box-shadow:0 0 18px rgba(85,104,255,.38);
}

.post h2{
    font-size:20px;
    margin-bottom:12px;
}
.tags{display:flex;gap:6px;margin-bottom:8px;flex-wrap:wrap;}
.tag{
    font-size:12px;
    padding:4px 8px;
    background:var(--accent);
    color:#fff;
    border-radius:6px;
}

.date{
    font-size:12px;
    opacity:.5;
    margin-top:6px;
}

/* Modal */
#modal{
    position:fixed;
    top:0;left:0;
    width:100%;
    height:100%;
    background: rgba(0,0,0,.3);
    display:flex;
    align-items:center;
    justify-content:center;
    opacity:0;
    pointer-events:none;
    transition:opacity .3s;
}
#modal.show{
    opacity:1;
    pointer-events:auto;
}
.modalBox{
    background:var(--light-card1);
    padding:24px;
    border-radius:12px;
    max-width:360px;
    width:90%;
}
body.dark .modalBox{background:var(--dark-card1);}

/* Fade slide scroll animation trigger */
.reveal{
    will-change:opacity,transform;
}

/* Dark mode toggle pill */
#themeToggle{
    border:none;
    background:none;
}
</style>
</head>

<body>

<header>
    <h1>I bought the whole domain, I'm going to use the whole domain</h1>
    <div class="iconRow" id="iconRow">
        <svg class="iconBtn" data-action="youtube" viewBox="0 0 24 24"><path d="M23.5 6.2a3 3 0 0 0-2.1-2.14C19.5 3.55 12 3.55 12 3.55s-7.5 0-9.38.5A3 3 0 0 0 .5 6.19C0 8.07 0 12 0 12s0 3.93.5 5.81a3 3 0 0 0 2.12 2.14c1.88.5 9.38.5 9.38.5s7.5 0 9.38-.5a3 3 0 0 0 2.12-2.14C24 15.93 24 12 24 12s0-3.93-.5-5.81zM9.55 15.57V8.43L15.82 12l-6.27 3.57z"></path></svg>
        <svg class="iconBtn" data-action="discord" viewBox="0 0 24 24"><path d="M20.3 4.37a19.8 19.8 0 0 0-4.88-1.51.08.08 0 0 0-.08.04 13 13 0 0 0-.61 1.25 18.3 18.3 0 0 0-5.49 0 12.7 12.7 0 0 0-.62-1.25.08.08 0 0 0-.08-.04A19.8 19.8 0 0 0 3.7 4.37.07.07 0 0 0 3.67 4.4C.53 9.05-.32 13.58.1 18.06a.08.08 0 0 0 .03.06A19.9 19.9 0 0 0 6.1 21.2a.08.08 0 0 0 .08-.03 14 14 0 0 0 1.23-2 .08.08 0 0 0-.04-.1 13 13 0 0 1-1.87-.9.08.08 0 0 1-.01-.13c.12-.1.25-.2.37-.3a.07.07 0 0 1 .08-.01c3.93 1.8 8.18 1.8 12.06 0a.07.07 0 0 1 .08.01c.13.1.25.2.37.3a.08.08 0 0 1-.01.13 12.3 12.3 0 0 1-1.87.9.08.08 0 0 0-.04.1 13.8 13.8 0 0 0 1.22 2 .08.08 0 0 0 .08.03 19.84 19.84 0 0 0 6-3.02.08.08 0 0 0 .03-.05c.5-5.18-.84-9.68-3.55-13.67a.06.06 0 0 0-.03-.03zM8 15.33c-1.18 0-2.16-1.09-2.16-2.42 0-1.33.95-2.42 2.16-2.42S10.17 11.6 10 12.9c0 1.33-.96 2.43-2.17 2.43zm7.97 0c-1.18 0-2.16-1.09-2.16-2.42 0-1.33.95-2.42 2.16-2.42S18.14 11.6 18 12.9c0 1.33-.96 2.43-2.17 2.43z"></path></svg>
        <svg id="themeToggle" class="iconBtn" data-action="theme" viewBox="0 0 24 24"><path d="M21.64 13a1 1 0 0 0-1.05-.14A8 8 0 1 1 11.09 3.4a1 1 0 0 0-.14-1A1 1 0 0 0 10 2a10 10 0 1 0 12 12 1 1 0 0 0-.36-1z"></path></svg>
    </div>
</header>

<main id="postList"></main>

<div id="modal">
    <div class="modalBox" id="modalContent"></div>
</div>

<script>
const postList=document.getElementById("postList");
const modal=document.getElementById("modal");
const modalContent=document.getElementById("modalContent");
let allPosts=[];

async function fetchText(url){
    try{
        const r=await fetch(url,{cache:"no-store"});
        if(!r.ok) return null;
        return await r.text();
    }catch{ return null;}
}

async function loadPosts(){
    allPosts=[];

    let pinned=await fetchText("./posts/IMPORTANT.txt");
    if(pinned) allPosts.push({content:pinned,pinned:true});

    let i=1;
    while(true){
        let res=await fetchText("./posts/Thing_"+i+".txt");
        if(!res) break;
        allPosts.push({content:res,pinned:false});
        i++;
    }

    if(allPosts.length==0){
        postList.innerHTML="<p style='opacity:.6;margin-top:40px'>No posts.</p>";
        return;
    }

    // extract meta & render
    renderPosts();
}

function parsePost(raw){
    let parts=raw.split("\n");
    let title=parts[0].trim();
    let body=parts.slice(1).join("\n").trim();
    let date=null;
    let dMatch=body.match(/\[(\d{2})\.(\d{2})\.(\d{4})\]/);
    if(dMatch){
        body=body.replace(dMatch[0],"").trim();
        date=new Date(dMatch[3],dMatch[2]-1,dMatch[1]);
    }
    let tags=[];
    body=body.replace(/\/#(.*?)\//g,(m,p)=>{tags.push(p);return "";}).trim();
    return {title,body,date,tags};
}

function renderPosts(){
    postList.innerHTML="";

    // pinned always first
    let pinned=allPosts.filter(p=>p.pinned);
    let rest=allPosts.filter(p=>!p.pinned);

    // default newest first
    rest.sort((a,b)=>{
        let A=parsePost(a.content).date;
        let B=parsePost(b.content).date;
        return (B?B.getTime():0)-(A?A.getTime():0);
    });

    let posts=[...pinned,...rest];

    posts.forEach((p,i)=>{
        let d=parsePost(p.content);
        const el=document.createElement("div");
        el.className="post reveal"+(p.pinned?" pinned":"");
        el.innerHTML=`
            <h2>${d.title}</h2>
            <div>${d.body.replace(/\n/g,"<br>")}</div>
            <div class="tags">
                ${d.tags.map(t=>`<span class="tag">${t}</span>`).join("")}
            </div>
            ${d.date?`<div class="date">${d.date.toLocaleDateString()}</div>`:""}
        `;
        el.onclick=()=>showModal(d.title);
        postList.appendChild(el);

        // Staggered reveal
        setTimeout(()=>el.classList.add("show"),80*i+150);
    });
}

function showModal(text){
    modalContent.innerHTML=`<p>${text}</p>`;
    modal.classList.add("show");
}

modal.onclick=e=>{
    if(e.target===modal) modal.classList.remove("show");
};

// THEME
document.getElementById("themeToggle").onclick=()=>{
    document.body.classList.toggle("dark");
    localStorage.setItem("theme",document.body.classList.contains("dark")?"1":"0");
};
if(localStorage.getItem("theme")==="1") document.body.classList.add("dark");

// ICON ACTIONS
document.getElementById("iconRow").onclick=e=>{
    if(!e.target.closest(".iconBtn"))return;
    let a=e.target.closest(".iconBtn").dataset.action;
    if(a==="discord") showModal("@brousev on discord");
    if(a==="youtube") window.open("https://youtube.com/@RousevGuesses","_blank");
    if(a==="theme") {}
};

// init
loadPosts();
</script>
</body>
</html>
